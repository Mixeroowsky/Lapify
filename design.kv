#:kivy 1.11.1
#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#:import hex kivy.utils.get_color_from_hex
#:import utils kivy.utils
#:import Factory kivy.factory.Factory
Manager:
	transition: FadeTransition()
    NowaSesja:
    Rozpocznij:
    NowyKierowca:
    WybierzKierowce:
    Live:
    PoprzednieSesje:
    Pomoc:

<DodajKierowce@Popup>:
    title: "Dodaj kierowce"
    size_hint: (None, None)
    size_hint: .7,.7
    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            size_hint_x: .8
            pos_hint: {"center_x":.5,'y': .9}
            BoxLayout:
                size_hint_y: None
                height: 50
                Label:
                    text: 'Id kierowcy'
                    size_hint_x: .3
                Label:
                    text: 'Imie'
                    size_hint_x: .4
                Label:
                    text: 'Nazwisko'
                    size_hint_x: .4
                Label:
                    text: ''
                    size_hint_x: .2
            BoxLayout:
                id: input
                size_hint_y: None
                pos_hint_x: 1
                height: 30
                TextInput:
                    id: driver_id
                    multiline: False
                    size_hint_x: .3
                TextInput:
                    id: name
                    multiline: False
                    size_hint_x: .3
                TextInput:
                    id: last_name
                    multiline: False
                    size_hint_x: .3
                Button:
                    id:add
                    text: 'Dodaj'
                    on_release: app.driverReference.add_driver()
                    size_hint_x: .2
        GridLayout:
            pos_hint: {'center_x':0.55, 'top': 0.7}
            size_hint_x: 1
            size_hint_y: None
            size:
            id:list
            cols: 1
        Button:
            size_hint: 0.6, 0.2
            pos_hint:{"x":0.2,"y":0.1}
            text: 'Ok'
            on_release:
                root.dismiss()



#<PopLay>:
 #   GridLayout:
 #       pos_hint: {'center_x':0.55, 'top': 0.7}
 #       size_hint_x: 1
 #       size_hint_y: None
  #      size:
  #      id:list
  #      cols: 1
 #   Button:
  #      text: "OK"
  #      size_hint: 0.4, 0.1
  #      pos_hint: {"x":0.3, "y":0.1}
   #     on_release:
   #         root.dismiss()
<ImageButton@Button>:
	background_normal: 'graphics/titlebar.png'
	background_down: 'graphics/pressed.png'
	size_hint: (None,None)
	size: 120,40
	color: 0,0,0,1
	font_name: 'graphics/Roboto-Light'
	font_size: '14'

<NowaSesja>:
    name: "nowa"
    canvas:
        Color:
	        rgba: hex('#6F696D')
	    Rectangle:
	        pos: self.pos
	        size: self.size
    StackLayout:
	    canvas:
		    Color:
			    rgba: (1,1,1,1)
		    Rectangle:
			    source: 'graphics/titlebar.png'
			    pos: 0, self.height-40
			    size: self.width, 40

        ImageButton:
            text: "Strona glowna"
            on_release:
                app.root.current = "nowa"
        ImageButton:
            text: "Live"
            on_release:
                app.root.current = "live"
        ImageButton:
            text: "Poprzednie Sesje"
            on_release:
                app.root.current = "poprzednie"
        ImageButton:
            text: "Pomoc"
            on_release:
                app.root.current = "pomocy"

        FloatLayout:
            Image:
                source: 'graphics/lapify.png'
                size_hint: None, None
                pos: root.width-(self.width+200),root.height-160
                size: 120,120
            Image:
                source: 'graphics/gllogo.png'
                size_hint: None, None
                pos: root.width-self.width+20,root.height-230
                size:250,250


            Button:
                background_color: hex('#FFFFFF')
                pos_hint:{"x":0.642,"top":0.42}
                size_hint: 0.22, 0.1
                text: "Rozpocznij nowa sesje"
                on_release:
                    app.root.current = "rozpocznij"
	        Label:
	        	size_hint: (None,None)
	            pos_hint: {"x":0.07,"y":0.79}
	            font_size: '30'
	            text: "Ostatnia sesja:"
	            color: hex('#EF8B00')

            BoxLayout:   #kolumny
                size_hint: (None,None)
                size: (730,500)
                pos_hint:{"x":0.02,"y":0.12}
                canvas:
                    Color:
                        rgba: hex('#505050')
                    Rectangle:
                        pos: self.pos
                        size: self.size
                orientation: 'horizontal'

                BoxLayout:  #wiersz
                    orientation: 'vertical'
                    size_hint: (None,None)
                    size: (110,500)
                    canvas:
                        Color:
                            rgba: hex('#505050')
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    Label:
                        text: "ID Kierowcy"
                        color: hex('#000000')
                        canvas.before:
                            Color:
                                rgba: hex('#EF8B00')
                            Rectangle:
                                size: self.size
                                pos: self.pos
                    Label:
                        text: "01"
                    Label:
                        text: "02"
                    Label:
                        text: "03"
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: (None,None)
                    size: (140,500)
                    canvas:
                        Color:
                            rgba: hex('#505050')
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    Label:
                        text: "Imie"
                        color: hex('#000000')
                        canvas.before:
                            Color:
                                rgba: hex('#EF8B00')
                            Rectangle:
                                size: self.size
                                pos: self.pos
                    Label:
                        text: "Mateusz"
                    Label:
                        text: "Jan"
                    Label:
                        text: "Natalia"
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: (None,None)
                    size: (170,500)
                    canvas:
                        Color:
                            rgba: hex('#505050')
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    Label:
                        text: "Nazwisko"
                        color: hex('#000000')
                        canvas.before:
                            Color:
                                rgba: hex('#EF8B00')
                            Rectangle:
                                size: self.size
                                pos: self.pos
                    Label:
                        text: "Sznuk"
                    Label:
                        text: "Krawczyk"
                    Label:
                        text: "Wodecka"
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: (None,None)
                    size: (150,500)
                    canvas:
                        Color:
                            rgba: hex('#505050')
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    Label:
                        text: "Najlepsze okrazenie"
                        color: hex('#000000')
                        canvas.before:
                            Color:
                                rgba: hex('#EF8B00')
                            Rectangle:
                                size: self.size
                                pos: self.pos
                    Label:
                        text: "1:27:15"
                    Label:
                        text: "1:34:12"
                    Label:
                        text: "1:43:53"
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: (None,None)
                    size: (160,500)
                    canvas:
                        Color:
                            rgba: hex('#505050')
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    Label:
                        text: "Data"
                        color: hex('#000000')
                        canvas.before:
                            Color:
                                rgba: hex('#EF8B00')
                            Rectangle:
                                size: self.size
                                pos: self.pos
                    Label:
                        text: "01.04.2020  14:15:03"
                    Label:
                        text: "01.04.2020  14:23:14"
                    Label:
                        text: "01.04.2020  14:07:25"
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""

<PoprzednieSesje>:
    name: "poprzednie"
    canvas:
        Color:
	        rgba: hex('#6F696D')
	    Rectangle:
	        pos: self.pos
	        size: self.size
    FloatLayout:
        Image:
            source: 'graphics/lapify.png'
            size_hint: None, None
            pos: root.width-(self.width+200),root.height-160
            size: 120,120
        Image:
            source: 'graphics/gllogo.png'
            size_hint: None, None
            pos: root.width-self.width+20,root.height-230
            size:250,250
    StackLayout:
	    canvas:
		    Color:
			    rgba: (1,1,1,1)
		    Rectangle:
			    source: 'graphics/titlebar.png'
			    pos: 0, self.height-40
			    size: self.width, 40

        ImageButton:
            text: "Strona glowna"
            on_release:
                app.root.current = "nowa"
        ImageButton:
            text: "Live"
            on_release:
                app.root.current = "live"
        ImageButton:
            text: "Poprzednie Sesje"
            on_release:
                app.root.current = "poprzednie"
        ImageButton:
            text: "Pomoc"
            on_release:
                app.root.current = "pomocy"

        Label:
            text: "POPRZEDNIE SESJE"


<Live>:
    name: "live"
    canvas:
        Color:
	        rgba: hex('#6F696D')
	    Rectangle:
	        pos: self.pos
	        size: self.size
    FloatLayout:
        Image:
            source: 'graphics/lapify.png'
            size_hint: None, None
            pos: root.width-(self.width+200),root.height-160
            size: 120,120
        Image:
            source: 'graphics/gllogo.png'
            size_hint: None, None
            pos: root.width-self.width+20,root.height-230
            size:250,250
    StackLayout:
	    canvas:
		    Color:
			    rgba: (1,1,1,1)
		    Rectangle:
			    source: 'graphics/titlebar.png'
			    pos: 0, self.height-40
			    size: self.width, 40

        ImageButton:
            text: "Strona glowna"
            on_release:
                app.root.current = "nowa"
        ImageButton:
            text: "Live"
            on_release:
                app.root.current = "live"
        ImageButton:
            text: "Poprzednie Sesje"
            on_release:
                app.root.current = "poprzednie"
        ImageButton:
            text: "Pomoc"
            on_release:
                app.root.current = "pomocy"

        Label:
            text: "LIVE"

<Pomoc>:
    name: "pomocy"
    canvas:
        Color:
	        rgba: hex('#6F696D')
	    Rectangle:
	        pos: self.pos
	        size: self.size
    FloatLayout:
        Image:
            source: 'graphics/lapify.png'
            size_hint: None, None
            pos: root.width-(self.width+200),root.height-160
            size: 120,120
        Image:
            source: 'graphics/gllogo.png'
            size_hint: None, None
            pos: root.width-self.width+20,root.height-230
            size:250,250
    StackLayout:
	    canvas:
		    Color:
			    rgba: (1,1,1,1)
		    Rectangle:
			    source: 'graphics/titlebar.png'
			    pos: 0, self.height-40
			    size: self.width, 40

        ImageButton:
            text: "Strona glowna"
            on_release:
                app.root.current = "nowa"
        ImageButton:
            text: "Live"
            on_release:
                app.root.current = "live"
        ImageButton:
            text: "Poprzednie Sesje"
            on_release:
                app.root.current = "poprzednie"
        ImageButton:
            text: "Pomoc"
            on_release:
                app.root.current = "pomocy"

        Label:
            text: "POMOC"

<PopLay>:
    BoxLayout:
        orientation: 'vertical'
        size_hint_x: .8
        pos_hint: {"center_x":.5,'y': .7}
        BoxLayout:
            size_hint_y: None
            height: 50
            Label:
                text: 'Id kierowcy'
                size_hint_x: .3
            Label:
                text: 'Imie'
                size_hint_x: .4
            Label:
                text: 'Nazwisko'
                size_hint_x: .4
            Label:
                text: ''
                size_hint_x: .2
        BoxLayout:
            id: input
            size_hint_y: None
            pos_hint_x: 1
            height: 30
            TextInput:
                id: driver_id
                multiline: False
                size_hint_x:.3
            TextInput:
                id: name
                multiline: False
                size_hint_x:.3
            TextInput:
                id: last_name
                multiline: False
                size_hint_x:.3
            Button:
                id:add
                text: 'Dodaj'
                on_release:
                    root.add_driver()
                size_hint_x:0.2
    GridLayout:
        pos_hint: {'center_x':0.55, 'top': 0.7}
        size_hint_x: 1
        size_hint_y: None
        size:
        id:list
        cols: 1
    Button:
        text: "OK"
        size_hint: 0.4, 0.1
        pos_hint: {"x":0.3, "y":0.1}
        on_release:
            root.dismiss()
<Rozpocznij>:
    name: "rozpocznij"
    canvas.before:
        Color:
	        rgba: hex('#6F696D')
	    Rectangle:
	        pos: self.pos
	        size: self.size
    canvas:
        Color:
            rgba: (0,0,0,.3)
        Rectangle:
            size:self.width, self.height
    FloatLayout:
        Image:
            source: 'graphics/lapify.png'
            color: (1,1,1,.5)
            size_hint: None, None
            pos: root.width-(self.width+200),root.height-160
            size: 120,120
        Image:
            source: 'graphics/gllogo.png'
            size_hint: None, None
            pos: root.width-self.width+20,root.height-230
            size:250,250
    StackLayout:    #przyciemniony górny pasek
        canvas:
            Color:
                rgba: (1,1,1,1)
            Rectangle:
                source: 'graphics/pressed.png'
                pos: 0, self.height-40
                size: self.width, 40
        ImageButton:
            background_normal: 'graphics/pressed.png'
            text: "Strona glowna"
        ImageButton:
            background_normal: 'graphics/pressed.png'
            text: "Live"
        ImageButton:
            background_normal: 'graphics/pressed.png'
            text: "Poprzednie Sesje"
        ImageButton:
            background_normal: 'graphics/pressed.png'
            text: "Pomoc"
    FloatLayout:    #czarna ramka wokół okienka
	    canvas:
		    Color:
			    rgba: hex('#000000')
		    Rectangle:
			    pos: 173,73
			    size: 934,554
    FloatLayout:    #okienko
	    canvas:
		    Color:
			    rgba: hex('#808080')
		    Rectangle:
			    pos: 175,75
			    size: 930,550
	    FloatLayout:
	        Label:
	        	size_hint: (None,None)
	            pos_hint: {"x":0.18,"y":0.76}
	            font_size: '24'
	            text: "Nowa sesja"
	            color: hex('#000000')
	        Label:
	        	size_hint: (None,None)
	            pos_hint: {"x":0.18,"y":0.69}
	            font_size: '18'
	            text: "Nazwa wyscigu:"
	            color: hex('#000000')
	        TextInput:
	            id: wyscig
	            size_hint: (None,None)
	            size: 300,36
	            font_size: '18'
	            pos_hint: {"x":0.28,"y":0.732}
	            multiline: False
            BoxLayout:
                orientation: 'horizontal'
                size_hint: (None,None)
                size: (570,320)
                pos_hint:{"x":0.17,"y":0.25}
                canvas:
                    Color:
                        rgba: hex('#404040')
                    Rectangle:
                        pos: self.pos
                        size: self.size
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: (None,None)
                    size: (190,320)
                    canvas:
                        Color:
                            rgba: hex('#404040')
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    Label:
                        text: "ID Kierowcy"
                        canvas.before:
                            Color:
                                rgba: hex('#303030')
                            Rectangle:
                                size: self.size
                                pos: self.pos
                    Label:
                        text: "01"
                    Label:
                        text: "02"
                    Label:
                        text: "03"
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: (None,None)
                    size: (190,320)
                    canvas:
                        Color:
                            rgba: hex('#404040')
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    Label:
                        text: "Imie"
                        canvas.before:
                            Color:
                                rgba: hex('#303030')
                            Rectangle:
                                size: self.size
                                pos: self.pos
                    Label:
                        text: "Andrzej"
                    Label:
                        text: "Monika"
                    Label:
                        text: "Krystian"
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: (None,None)
                    size: (190,320)
                    canvas:
                        Color:
                            rgba: hex('#404040')
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    Label:
                        text: "Nazwisko"
                        canvas.before:
                            Color:
                                rgba: hex('#303030')
                            Rectangle:
                                size: self.size
                                pos: self.pos
                    Label:
                        text: "Motyka"
                    Label:
                        text: "Kielbasa"
                    Label:
                        text: "Nowak"
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""
                    Label:
                        text: ""

	        Button:
	            background_color: hex('#FFFFFF')
	            size_hint: (None,None)
	            pos_hint: {"x":0.18,"y":0.15}
	            size: 110,40
	            text: "Cofnij"
	            on_release:
	                app.root.current = "nowa"
	        Button:
	            background_color: hex('#FFFFFF')
	            size_hint: (None,None)
	            pos_hint: {"x":0.7,"y":0.15}
	            size: 110,40
	            text: "Dalej"
	            on_release:
                    root.swap()     #fajne przejście
	                app.root.current = "live"
                    root.unswap()   #powrót do normalnego
	        Button:
	            background_color: hex('#FFFFFF')
	            size_hint: (None,None)
	            pos_hint: {"x":0.3,"y":0.15}
	            size: 130,40
	            text: "Dodaj kierowce"
                on_release:
                    Factory.DodajKierowce().open()  #popup
	        Button:
	            background_color: hex('#FFFFFF')
	            size_hint: (None,None)
	            pos_hint: {"x":0.405,"y":0.15}
	            size: 130,40
	            text: "Usun kierowce"
	        Button:
	            background_color: hex('#FFFFFF')
	            size_hint: (None,None)
	            pos_hint: {"x":0.51,"y":0.15}
	            size: 130,40
	            text: "Edytuj kierowce"




